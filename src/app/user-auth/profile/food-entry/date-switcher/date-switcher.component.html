<div class="date-switcher" [ngClass]="{ 'dark-theme': isDarkTheme }">
  <button
    mat-icon-button
    (click)="previousDay()"
    class="nav-button"
    aria-label="Previous day"
  >
    <mat-icon>chevron_left</mat-icon>
  </button>

  <div
    class="date-display"
    matRipple
    [matRippleColor]="isDarkTheme ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)'"
  >
    <mat-datepicker #picker (opened)="openDatePicker()"></mat-datepicker>
    <button class="date-button" (click)="picker.open()">
      <div class="formatted-date">
        <span class="day">{{ selectedDate | date : "EEEE" }}</span>
        <span class="date">{{ selectedDate | date : "MMM d, y" }}</span>
      </div>
      <mat-icon class="calendar-icon">calendar_today</mat-icon>
    </button>
    <input
      [matDatepicker]="picker"
      [ngModel]="selectedDate"
      (ngModelChange)="onDateChange($event)"
      class="date-input"
      #dateInput
    />
  </div>

  <button
    mat-icon-button
    (click)="nextDay()"
    class="nav-button"
    aria-label="Next day"
  >
    <mat-icon>chevron_right</mat-icon>
  </button>
</div>
